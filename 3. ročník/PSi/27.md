# Směrování (routing)
- doručování
  - přímé
    - v jedné síti, nehledá dál (není potřeba směrovat)
  - nepřímé
    - nachází se na jiné síti
    - je potřeba směrovat
- hledáme nejkratší (optimální) cestu
  - teorie grafů
    - délku kabelu můžeme zjistit pomocí času (ping) a rychlosti 
    - využitelné i v logistice
## typy
  - hop-by-hop routing
    - směruje se po každém skoku
  - destination-based routing
    - směruje se na základě cílové adresy
  - leat-cost routing
    - optimální cesta se volí podle nejnižší obtížnosti (cost)
## v IPv4
  - směrování je bezestavové
  - směrování je nezávislé na obsahu a zdroji
  - směrovací tabulky
    - "rozcestník"
    - jsou v routeru
    - jsou datovou strukturou, ve které jsou uchovávány podklady pro směrování
    - hodí se pro rozhodování, ale nikoli pro samotnou manipulaci s IP datagramy
    - položky obsahují:
      - cílovou síť s maskou
      - odchozí rozhraní
      - ohodnocení (v metrice)
    - typy
      - adaptivní
        - dynamicky aktualizuje směrovací tabulky
      - neadaptivní
        - na změny v soustavě nereaguje
        - obsah směrovacích tabulek je pevně a dopředu dán
    - implicitní cesta (defaul route)
      - explicitně se vyjmenuje jen to, co "jde jinudy"
      - přináší největší efekt na konci internetových přípojek
        - stačí explicitně popsat jen nižší sítě
        - vše ostatní se směruje implicitní cestou
    - host specific route
      - cílovou sítí je jeden uzel (jedno zařízení)
      - řešení host-specific route
      - mělo by být použito jen výjimečně
  - algoritmus směrování
    1. jde o přímé či nepřímé doručování?
    2. jde o nepřímé?
  - hostitelské počítače a směrování
    - role v rámci směrování se mezi nimi liší
    - směrovce
      - zajišťují všechny činnosti, spojené se směrováním
    - hostitelské počítače
      - nehledá optimální cestu a ani neaktualizuje směrovací tabulky
  - směrovací domény (routing domains)
    - např. sdílení Windows
      - sdílení souborů
    - mezi směrovacími doménami jsou šířeny informace pouze o jejich dostupnosti
  - směrování na základě dostupnosti
    - algoritmy distance vektor a link state se zde nedají použít
    - používají se algoritmy typu path vector
    - mezi sítí hledáme optimální cestu, mezi doménami nějakou
    - IGP protokol
      - směrovacím doménám se často říká autonomní systémy (AS)
## dnešní struktura internetu
- body NAP byly nahrazeny centry IXP (Internet eXchange Points)
- Tier 1
  - ISP
  - páteřní síť
- Tier 2
  - ISP
- Tier 3
  - "poslední míle"
